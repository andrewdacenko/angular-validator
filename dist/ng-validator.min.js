/**
 * Angular validation helper class
 * @version v0.0.1
 * @link https://github.com/andrewdacenko/ng-validator
 * @license MIT
 */
!function(e,t,r){"use strict";t.module("ngValidator",["ngValidator.message-bag","ngValidator.validator"]),t.module("ngValidator.message-bag",[]).factory("MessageBag",function(){function e(){this.errors={}}return e.prototype.add=function(e,t){this.errors[e]instanceof Array||(this.errors[e]=[]),this.errors[e].push(t)},e.prototype.hasErrors=function(){for(var e in this.errors)if(this.errors.hasOwnProperty(e))return!0;return!1},e.prototype.all=function(){return this.errors},e.prototype.has=function(e){return this.errors[e]?!0:!1},e.prototype.first=function(e){return this.has(e)?this.errors[e][0]:""},e.prototype.get=function(e){return this.has(e)?this.errors[e]:[]},e}),t.module("ngValidator.validator",["ngValidator.message-bag"]).factory("Validator",["MessageBag",function(e){function t(e,t,r){this.messages=r||{},this.data=e,this.rules=this.explodeRules(t)}function a(e){return(e+"").replace(/^([a-z\u00E0-\u00FC])|\s+([a-z\u00E0-\u00FC])/g,function(e){return e.toUpperCase()})}function i(e){return e=a((e+"").replace(/[-_]/g," ")),e.replace(/[\s]/g,"")}function s(e){return(e+"").replace(/(.)([A-Z])/g,"$1_$2").toLowerCase()}return t.prototype.defaultMessages={Required:"Field can't be blank",RequiredIf:"Field can't be blank",RequiredWith:"Field can't be blank"},t.prototype.explodeRules=function(e){for(var t in e)e[t]="string"==typeof e[t]?e[t].split("|"):e[t];return e},t.prototype.parseRules=function(e){if(r=[],-1!==e.indexOf(":")){var t=e.split(":");e=t[0];var r=this.parseParameters(e,t[1])}return{rule:i(e.trim()),parameters:r}},t.prototype.parseParameters=function(e,t){return"regex"==e.toLowerCase()?[t]:t.split(",")},t.prototype.validate=function(e,t){var r=this.parseRules(t);if(""!==r.rule){var a=this.getValue(e);this["validate"+r.rule](e,a,r.parameters)||this.addFailure(e,r.rule,r.parameters)}},t.prototype.passes=function(){this.errors=new e;for(var t in this.rules)for(var r=this.rules[t],a=0;a<r.length;a++)this.validate(t,r[a]);return!this.errors.hasErrors()},t.prototype.fails=function(){return!this.passes()},t.prototype.extend=function(e,r,a){e=i(e),t.prototype["validate"+e]=r,t.prototype.defaultMessages[e]=a||""},t.prototype.addFailure=function(e,t){var r=this.messages[e+"."+s(t)]||this.defaultMessages[t];this.errors.add(e,r)},t.prototype.getValue=function(e){return this.data[e]},t.prototype.allRequiredFails=function(e){for(var t=0;t<e.length;t++)if(this.validateRequired(e[t],this.getValue(e[t])))return!1;return!0},t.prototype.validateRequired=function(e,t){if(null===t||t===r)return!1;if("string"==typeof t){if(""===t.trim())return!1}else if(t instanceof Array){if(t.length<1)return!1}else if(t instanceof Object&&!(t instanceof Date)&&0===Object.getOwnPropertyNames(t).length)return!1;return!0},t.prototype.validateRequiredWith=function(e,t,r){return this.allRequiredFails(r)?!0:this.validateRequired(e,t)},t.prototype.validateRequiredIf=function(e,t,r){return this.getValue(r[0])===r[1]?this.validateRequired(e,t):!0},t}])}(window,angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2UtYmFnL21lc3NhZ2UtYmFnLmpzIiwidmFsaWRhdG9yL3ZhbGlkYXRvci5qcyIsIm5nLXZhbGlkYXRvci5taW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYW5ndWxhciIsInVuZGVmaW5lZCIsIm1vZHVsZSIsImZhY3RvcnkiLCJNZXNzYWdlQmFnIiwidGhpcyIsImVycm9ycyIsInByb3RvdHlwZSIsImFkZCIsImZpZWxkIiwibWVzc2FnZSIsIkFycmF5IiwicHVzaCIsImhhc0Vycm9ycyIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImFsbCIsImhhcyIsImZpcnN0IiwiZ2V0IiwiVmFsaWRhdG9yIiwiZGF0YSIsInJ1bGVzIiwibWVzc2FnZXMiLCJleHBsb2RlUnVsZXMiLCJ1Y3dvcmRzIiwic3RyIiwicmVwbGFjZSIsIiQxIiwidG9VcHBlckNhc2UiLCJzdHVkbHlDYXNlIiwic25ha2VDYXNlIiwidG9Mb3dlckNhc2UiLCJkZWZhdWx0TWVzc2FnZXMiLCJSZXF1aXJlZCIsIlJlcXVpcmVkSWYiLCJSZXF1aXJlZFdpdGgiLCJzcGxpdCIsInBhcnNlUnVsZXMiLCJwYXJhbWV0ZXJzIiwiaW5kZXhPZiIsImxpc3QiLCJwYXJzZVBhcmFtZXRlcnMiLCJydWxlIiwidHJpbSIsInBhcmFtZXRlciIsInZhbGlkYXRlIiwicGFyc2VkIiwidmFsdWUiLCJnZXRWYWx1ZSIsImFkZEZhaWx1cmUiLCJwYXNzZXMiLCJmaWVsZFJ1bGVzIiwiaSIsImxlbmd0aCIsImZhaWxzIiwiZXh0ZW5kIiwiZm4iLCJhbGxSZXF1aXJlZEZhaWxzIiwiZmllbGRzIiwidmFsaWRhdGVSZXF1aXJlZCIsIk9iamVjdCIsIkRhdGUiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidmFsaWRhdGVSZXF1aXJlZFdpdGgiLCJ2YWxpZGF0ZVJlcXVpcmVkSWYiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEdBQ0EsWUFDQUQsR0FBQUUsT0FBQSxlQUFBLDBCQUFBLDBC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QyxJQWFBNUIsRUFBQWIsVUFBQTBELG1CQUFBLFNBQUF4RCxFQUFBdUMsRUFBQVQsR0FDQSxNQUFBbEMsTUFBQTRDLFNBQUFWLEVBQUEsTUFBQUEsRUFBQSxHQUNBbEMsS0FBQXVELGlCQUFBbkQsRUFBQXVDLElBR0EsR0MrSW1CNUIsTUFHaEJyQixPQUFRQyIsImZpbGUiOiJuZy12YWxpZGF0b3IubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAgIC5tb2R1bGUoJ25nVmFsaWRhdG9yLm1lc3NhZ2UtYmFnJywgW10pXG4gICAgLmZhY3RvcnkoJ01lc3NhZ2VCYWcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgTWVzc2FnZUJhZyBpbnN0YW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiBPYmplY3QgIE1lc3NhZ2VCYWdcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIE1lc3NhZ2VCYWcoKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgbmV3IGVycm9yIG9uIGZpZWxkIHZhbGlkYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICBmaWVsZFxuICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgcnVsZVxuICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgbWVzc2FnZVxuICAgICAgICAgKiBAcmV0dXJuIGJvb2xlYW5cbiAgICAgICAgICovXG4gICAgICAgIE1lc3NhZ2VCYWcucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChmaWVsZCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5lcnJvcnNbZmllbGRdIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNbZmllbGRdID0gW107XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmVycm9yc1tmaWVsZF0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgdGhlcmUgYXJlIGFueSBlcnJvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4gYm9vbGVhblxuICAgICAgICAgKi9cbiAgICAgICAgTWVzc2FnZUJhZy5wcm90b3R5cGUuaGFzRXJyb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLmVycm9ycykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVycm9ycy5oYXNPd25Qcm9wZXJ0eShwcm9wKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBtZXNzYWdlcyBhZnRlciB2YWxpZGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuIE9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzc2FnZUJhZy5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBpZiB0aGVyZSBhcmUgZXJyb3JzIGF0IGZpZWxkIHZhbGlkYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICBmaWVsZFxuICAgICAgICAgKiBAcmV0dXJuIE9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzc2FnZUJhZy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNbZmllbGRdID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgZmlyc3QgZXJyb3Igb24gZmllbGQgdmFsaWRhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtICBzdHJpbmcgIGZpZWxkXG4gICAgICAgICAqIEByZXR1cm4gT2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBNZXNzYWdlQmFnLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzKGZpZWxkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yc1tmaWVsZF1bMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCB0aGUgZmllbGQgdmFsaWRhdGlvbiBlcnJvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICBmaWVsZFxuICAgICAgICAgKiBAcmV0dXJuIE9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzc2FnZUJhZy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXMoZmllbGQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzW2ZpZWxkXTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gTWVzc2FnZUJhZztcbiAgICB9KTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnbmdWYWxpZGF0b3IudmFsaWRhdG9yJywgWyduZ1ZhbGlkYXRvci5tZXNzYWdlLWJhZyddKVxuICAgIC5mYWN0b3J5KCdWYWxpZGF0b3InLCBbJ01lc3NhZ2VCYWcnLFxuICAgICAgICBmdW5jdGlvbiAoTWVzc2FnZUJhZykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGUgYSBuZXcgVmFsaWRhdG9yIGluc3RhbmNlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgT2JqZWN0ICBkYXRhXG4gICAgICAgICAgICAgKiBAcGFyYW0gIE9iamVjdCAgcnVsZXNcbiAgICAgICAgICAgICAqIEBwYXJhbSAgT2JqZWN0ICBtZXNzYWdlc1xuICAgICAgICAgICAgICogQHJldHVybiBPYmplY3QgIFZhbGlkYXRvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBWYWxpZGF0b3IoZGF0YSwgcnVsZXMsIG1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IG1lc3NhZ2VzIHx8IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlcyA9IHRoaXMuZXhwbG9kZVJ1bGVzKHJ1bGVzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIG1lc3NhZ2VzXG4gICAgICAgICAgICBWYWxpZGF0b3IucHJvdG90eXBlLmRlZmF1bHRNZXNzYWdlcyA9IHtcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogJ0ZpZWxkIGNhblxcJ3QgYmUgYmxhbmsnLFxuICAgICAgICAgICAgICAgIFJlcXVpcmVkSWY6ICdGaWVsZCBjYW5cXCd0IGJlIGJsYW5rJyxcbiAgICAgICAgICAgICAgICBSZXF1aXJlZFdpdGg6ICdGaWVsZCBjYW5cXCd0IGJlIGJsYW5rJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFeHBsb2RlIHRoZSBydWxlcyBpbnRvIGFuIGFycmF5IG9mIHJ1bGVzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgT2JqZWN0ICBydWxlc1xuICAgICAgICAgICAgICogQHJldHVybiBPYmplY3RcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgVmFsaWRhdG9yLnByb3RvdHlwZS5leHBsb2RlUnVsZXMgPSBmdW5jdGlvbiAocnVsZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBmaWVsZCBpbiBydWxlcykge1xuICAgICAgICAgICAgICAgICAgICBydWxlc1tmaWVsZF0gPSAodHlwZW9mIHJ1bGVzW2ZpZWxkXSA9PT0gJ3N0cmluZycpID8gcnVsZXNbZmllbGRdLnNwbGl0KCd8JykgOiBydWxlc1tmaWVsZF07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBydWxlcztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFyc2UgYSBzdHJpbmcgcnVsZS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgcnVsZXNcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3J1bGUsIHBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFZhbGlkYXRvci5wcm90b3R5cGUucGFyc2VSdWxlcyA9IGZ1bmN0aW9uIChydWxlcykge1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZm9ybWF0IGZvciBzcGVjaWZ5aW5nIHZhbGlkYXRpb24gcnVsZXMgYW5kIHBhcmFtZXRlcnMgZm9sbG93cyBhblxuICAgICAgICAgICAgICAgIC8vIGVhc3kge3J1bGV9OntwYXJhbWV0ZXJzfSBmb3JtYXR0aW5nIGNvbnZlbnRpb24uIEZvciBpbnN0YW5jZSB0aGVcbiAgICAgICAgICAgICAgICBpZiAocnVsZXMuaW5kZXhPZignOicpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHJ1bGVzLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzID0gbGlzdFswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB0aGlzLnBhcnNlUGFyYW1ldGVycyhydWxlcywgbGlzdFsxXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZTogc3R1ZGx5Q2FzZShydWxlcy50cmltKCkpLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFyc2UgYSBwYXJhbWV0ZXIgbGlzdC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgIHJ1bGVcbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICAgcGFyYW1ldGVyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIGFycmF5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFZhbGlkYXRvci5wcm90b3R5cGUucGFyc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHJ1bGUsIHBhcmFtZXRlcikge1xuICAgICAgICAgICAgICAgIGlmIChydWxlLnRvTG93ZXJDYXNlKCkgPT0gJ3JlZ2V4JykgcmV0dXJuIFtwYXJhbWV0ZXJdO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbWV0ZXIuc3BsaXQoJywnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBWYWxpZGF0ZSBhIGdpdmVuIGZpZWxkIGFnYWluc3QgYSBydWxlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICAgZmllbGRcbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICAgcnVsZVxuICAgICAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAoZmllbGQsIHJ1bGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gdGhpcy5wYXJzZVJ1bGVzKHJ1bGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5ydWxlID09PSAnJykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXRWYWx1ZShmaWVsZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXNbJ3ZhbGlkYXRlJyArIHBhcnNlZC5ydWxlXShmaWVsZCwgdmFsdWUsIHBhcnNlZC5wYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEZhaWx1cmUoZmllbGQsIHBhcnNlZC5ydWxlLCBwYXJzZWQucGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGV0ZXJtaW5lIGlmIHRoZSBkYXRhIHBhc3NlcyB0aGUgdmFsaWRhdGlvbiBydWxlcy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcmV0dXJuIGJvb2xlYW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgVmFsaWRhdG9yLnByb3RvdHlwZS5wYXNzZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBuZXcgTWVzc2FnZUJhZztcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGZpZWxkIGluIHRoaXMucnVsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkUnVsZXMgPSB0aGlzLnJ1bGVzW2ZpZWxkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkUnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoZmllbGQsIGZpZWxkUnVsZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLmVycm9ycy5oYXNFcnJvcnMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGV0ZXJtaW5lIGlmIHRoZSBkYXRhIGZhaWxzIHRoZSB2YWxpZGF0aW9uIHJ1bGVzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEByZXR1cm4gYm9vbGVhblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBWYWxpZGF0b3IucHJvdG90eXBlLmZhaWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5wYXNzZXMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVnaXN0ZXIgYSBjdXN0b20gdmFsaWRhdG9yIHJ1bGUuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtICBzdHJpbmcgICAgcnVsZVxuICAgICAgICAgICAgICogQHBhcmFtICBGdW5jdGlvbiAgZm5cbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBWYWxpZGF0b3IucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChydWxlLCBmbiwgbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHJ1bGUgPSBzdHVkbHlDYXNlKHJ1bGUpO1xuICAgICAgICAgICAgICAgIFZhbGlkYXRvci5wcm90b3R5cGVbJ3ZhbGlkYXRlJyArIHJ1bGVdID0gZm47XG4gICAgICAgICAgICAgICAgVmFsaWRhdG9yLnByb3RvdHlwZS5kZWZhdWx0TWVzc2FnZXNbcnVsZV0gPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBZGQgYSBmYWlsZWQgcnVsZSBhbmQgZXJyb3IgbWVzc2FnZSB0byB0aGUgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgIGZpZWxkXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgIHJ1bGVcbiAgICAgICAgICAgICAqIEBwYXJhbSAgQXJyYXkgICAgcGFyYW1ldGVyc1xuICAgICAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFZhbGlkYXRvci5wcm90b3R5cGUuYWRkRmFpbHVyZSA9IGZ1bmN0aW9uIChmaWVsZCwgcnVsZSwgcGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1tmaWVsZCArICcuJyArIHNuYWtlQ2FzZShydWxlKV0gfHwgdGhpcy5kZWZhdWx0TWVzc2FnZXNbcnVsZV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5hZGQoZmllbGQsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gZmllbGQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtICBzdHJpbmcgICBmaWVsZFxuICAgICAgICAgICAgICogQHJldHVybiBtaXhlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBWYWxpZGF0b3IucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtmaWVsZF07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERldGVybWluZSBpZiBhbGwgb2YgdGhlIGdpdmVuIGZpZWxkcyBmYWlsIHRoZSByZXF1aXJlZCB0ZXN0LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgQXJyYXkgICAgZmllbGRzXG4gICAgICAgICAgICAgKiBAcmV0dXJuIGJvb2xlYW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgVmFsaWRhdG9yLnByb3RvdHlwZS5hbGxSZXF1aXJlZEZhaWxzID0gZnVuY3Rpb24gKGZpZWxkcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkYXRlUmVxdWlyZWQoZmllbGRzW2ldLCB0aGlzLmdldFZhbHVlKGZpZWxkc1tpXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBWYWxpZGF0ZSB0aGF0IGEgcmVxdWlyZWQgZmllbGQgZXhpc3RzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICAgZmllbGRcbiAgICAgICAgICAgICAqIEBwYXJhbSAgbWl4ZWQgICAgdmFsdWVcbiAgICAgICAgICAgICAqIEByZXR1cm4gYm9vbGVhblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBWYWxpZGF0b3IucHJvdG90eXBlLnZhbGlkYXRlUmVxdWlyZWQgPSBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0ICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVmFsaWRhdGUgdGhhdCBhbiBmaWVsZCBleGlzdHMgd2hlbiBhbnkgb3RoZXIgZmllbGQgZXhpc3RzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICAgZmllbGRcbiAgICAgICAgICAgICAqIEBwYXJhbSAgbWl4ZWQgICAgdmFsdWVcbiAgICAgICAgICAgICAqIEBwYXJhbSAgQXJyYXkgICAgcGFyYW1ldGVyc1xuICAgICAgICAgICAgICogQHJldHVybiBib29sZWFuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGVSZXF1aXJlZFdpdGggPSBmdW5jdGlvbiAoZmllbGQsIHZhbHVlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbFJlcXVpcmVkRmFpbHMocGFyYW1ldGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVSZXF1aXJlZChmaWVsZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVmFsaWRhdGUgdGhhdCBhbiBmaWVsZCBleGlzdHMgd2hlbiBvdGhlciBmaWVsZCBoYXMgY2VydGFpbiB2YWx1ZS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgIGZpZWxkXG4gICAgICAgICAgICAgKiBAcGFyYW0gIG1peGVkICAgIHZhbHVlXG4gICAgICAgICAgICAgKiBAcGFyYW0gIEFycmF5ICAgIHBhcmFtZXRlcnNcbiAgICAgICAgICAgICAqIEByZXR1cm4gYm9vbGVhblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBWYWxpZGF0b3IucHJvdG90eXBlLnZhbGlkYXRlUmVxdWlyZWRJZiA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRWYWx1ZShwYXJhbWV0ZXJzWzBdKSA9PT0gcGFyYW1ldGVyc1sxXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVJlcXVpcmVkKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIZWxwZXIgZnVuY3Rpb25zXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGdW5jdGlvbiB0byBjb252ZXJ0IGVhY2ggd29yZGBzIGZpcnN0IGxldHRlciB0byB1cHBlciBjYXNlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICBzdHJcbiAgICAgICAgICAgICAqIEByZXR1cm4gc3RyaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIHVjd29yZHMoc3RyKSB7XG4gICAgICAgICAgICAgICAgLy8gIGRpc2N1c3MgYXQ6IGh0dHA6Ly9waHBqcy5vcmcvZnVuY3Rpb25zL3Vjd29yZHMvXG4gICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwgYnk6IEpvbmFzIFJhb25pIFNvYXJlcyBTaWx2YSAoaHR0cDovL3d3dy5qc2Zyb21oZWxsLmNvbSlcbiAgICAgICAgICAgICAgICAvLyBpbXByb3ZlZCBieTogV2FsZG8gTWFscXVpIFNpbHZhIChodHRwOi8vd2FsZG8ubWFscXVpLmluZm8pXG4gICAgICAgICAgICAgICAgLy8gaW1wcm92ZWQgYnk6IFJvYmluXG4gICAgICAgICAgICAgICAgLy8gaW1wcm92ZWQgYnk6IEtldmluIHZhbiBab25uZXZlbGQgKGh0dHA6Ly9rZXZpbi52YW56b25uZXZlbGQubmV0KVxuICAgICAgICAgICAgICAgIC8vIGJ1Z2ZpeGVkIGJ5OiBPbm5vIE1hcnNtYW5cbiAgICAgICAgICAgICAgICAvLyAgICBpbnB1dCBieTogSmFtZXMgKGh0dHA6Ly93d3cuamFtZXMtYmVsbC5jby51ay8pXG4gICAgICAgICAgICAgICAgLy8gICBleGFtcGxlIDE6IHVjd29yZHMoJ2tldmluIHZhbiAgem9ubmV2ZWxkJyk7XG4gICAgICAgICAgICAgICAgLy8gICByZXR1cm5zIDE6ICdLZXZpbiBWYW4gIFpvbm5ldmVsZCdcbiAgICAgICAgICAgICAgICAvLyAgIGV4YW1wbGUgMjogdWN3b3JkcygnSEVMTE8gV09STEQnKTtcbiAgICAgICAgICAgICAgICAvLyAgIHJldHVybnMgMjogJ0hFTExPIFdPUkxEJ1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvXihbYS16XFx1MDBFMC1cXHUwMEZDXSl8XFxzKyhbYS16XFx1MDBFMC1cXHUwMEZDXSkvZywgZnVuY3Rpb24gKCQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkMS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGdW5jdGlvbiB0byBjb252ZXJ0IHRleHQgaW50byBzdHVkbHkgY2FzZS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHN0cmluZyAgc3RyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHN0cmluZ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBzdHVkbHlDYXNlKHN0cikge1xuICAgICAgICAgICAgICAgIHN0ciA9IHVjd29yZHMoKHN0ciArICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJykpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcc10vZywgJycpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGdW5jdGlvbiB0byBjb252ZXJ0IHRleHQgaW50byBzbmFrZSBjYXNlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSAgc3RyaW5nICBzdHJcbiAgICAgICAgICAgICAqIEByZXR1cm4gc3RyaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNuYWtlQ2FzZShzdHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC8oLikoW0EtWl0pL2csICckMV8kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gVmFsaWRhdG9yO1xuICAgICAgICB9XG4gICAgXSk7IixudWxsXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=